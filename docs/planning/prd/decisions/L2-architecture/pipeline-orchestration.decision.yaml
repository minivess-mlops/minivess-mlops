decision_id: pipeline_orchestration
title: "Pipeline Orchestration"
description: >
  How to orchestrate ML pipeline stages (training, evaluation, deployment).

decision_level: L2_architecture
status: active
last_updated: 2026-02-23

options:
  - option_id: langgraph
    title: "LangGraph"
    description: "Agent-based orchestration with LLM reasoning. Placeholder implemented."
    prior_probability: 0.35
    status: resolved
    implementation_status: partial

  - option_id: prefect
    title: "Prefect"
    description: "Python-native workflow orchestration."
    prior_probability: 0.20
    status: viable
    implementation_status: not_started

  - option_id: custom_scripts
    title: "Custom Scripts"
    description: "Shell scripts and Makefiles. Simple but brittle."
    prior_probability: 0.25
    status: viable
    implementation_status: partial

  - option_id: dvc_pipelines
    title: "DVC Pipelines"
    description: "DVC pipeline stages for reproducible workflows."
    prior_probability: 0.20
    status: viable
    implementation_status: partial

conditional_on:
  - parent_decision_id: project_purpose
    influence_strength: weak
    conditional_table:
      - given_parent_option: self_learning
        then_probabilities:
          langgraph: 0.40
          prefect: 0.20
          custom_scripts: 0.20
          dvc_pipelines: 0.20
      - given_parent_option: portfolio
        then_probabilities:
          langgraph: 0.35
          prefect: 0.25
          custom_scripts: 0.15
          dvc_pipelines: 0.25
      - given_parent_option: clinical_deployment
        then_probabilities:
          langgraph: 0.20
          prefect: 0.30
          custom_scripts: 0.10
          dvc_pipelines: 0.40
      - given_parent_option: open_source_contribution
        then_probabilities:
          langgraph: 0.25
          prefect: 0.20
          custom_scripts: 0.25
          dvc_pipelines: 0.30

archetype_weights:
  solo_researcher:
    probability_overrides:
      langgraph: 0.35
      prefect: 0.15
      custom_scripts: 0.30
      dvc_pipelines: 0.20
    rationale: "LangGraph for learning; custom scripts for quick iteration"
  lab_group:
    probability_overrides:
      langgraph: 0.20
      prefect: 0.30
      custom_scripts: 0.15
      dvc_pipelines: 0.35
    rationale: "Lab groups need reproducible pipelines (DVC/Prefect)"
  clinical_deployment:
    probability_overrides:
      langgraph: 0.15
      prefect: 0.35
      custom_scripts: 0.10
      dvc_pipelines: 0.40
    rationale: "Clinical needs robust, auditable pipeline orchestration"

volatility:
  classification: shifting
  last_assessed: 2026-02-23
  next_review: 2026-05-23
  change_drivers:
    - "LangGraph maturity"
    - "Prefect 3.0 features"
    - "DVC pipeline improvements"

domain_applicability:
  vascular_segmentation: 1.0
  cardiac_imaging: 1.0
  neuroimaging: 1.0
  general_medical: 1.0

rationale: >
  LangGraph (0.35) is the primary choice for agent-based orchestration.
  DVC pipelines (0.20) complement it for data pipeline stages.

tags:
  - architecture
  - orchestration
  - partially-resolved
