decision_id: annotation_platform
title: "Annotation Platform"
description: >
  Which platform to use for medical image annotation and proofreading. 3D Slicer
  with SlicerNNInteractive provides state-of-the-art AI-assisted 3D interactive
  segmentation; MONAI Label provides active learning loops; Label Studio provides
  general-purpose multi-annotator workflows; napari offers Python-native research
  workflows. Phase 15 interactive segmentation research (interactive-segmentation-report.md)
  established that nnInteractive (Isensee et al., 2025) is the current best interactive
  segmentation model, and 3D Slicer is the pragmatic platform choice over custom frontends.

decision_level: L3_technology
status: active
last_updated: 2026-02-24

options:
  - option_id: slicer_nninteractive
    title: "3D Slicer + SlicerNNInteractive"
    description: >
      3D Slicer with SlicerNNInteractive extension (de Vente et al., 2025) providing
      nnInteractive (Isensee et al., 2025) as backend. Client-server architecture:
      heavy inference on remote GPU server, Slicer as thin client. Supports all prompt
      types: points, bounding boxes, scribbles, lasso, prior mask input. Won 1st place
      CVPR 2025 Interactive 3D Segmentation Challenge. Prior mask channel enables
      proofreading workflow (feed existing segmentation, correct iteratively).
      Server via Docker Hub or pip; client via GitHub (not yet in Extensions Manager).
    prior_probability: 0.40
    status: recommended
    implementation_status: not_started
    complements:
      - "annotation_workflow.slicer_proofread"
      - "segmentation_models.dynunet"
    constraints:
      - "Server requires GPU with 10GB+ VRAM"
      - "Client not yet in Slicer Extensions Manager (manual install from GitHub)"
      - "Server runs on Linux/Windows only"

  - option_id: monai_label
    title: "MONAI Label"
    description: >
      MONAI-native AI-assisted annotation server (v0.8.5, Diaz-Pinto et al., 2024).
      Provides active learning loops with uncertainty-based sample selection, DeepEdit
      interactive segmentation, and automatic model retraining from corrections. Tight
      MONAI ecosystem integration. However, DeepEdit has been surpassed by nnInteractive
      for interactive segmentation quality. Primary value is now the active learning
      orchestration, not the interactive model itself.
    prior_probability: 0.20
    status: viable
    implementation_status: not_started
    complements:
      - "monai_alignment.monai_native"
      - "segmentation_models.segresnet"
      - "annotation_workflow.monai_label_active"
    constraints:
      - "Requires MONAI Label server setup"
      - "DeepEdit surpassed by nnInteractive for interactive quality"
      - "3D Slicer or OHIF viewer integration"

  - option_id: label_studio
    title: "Label Studio"
    description: >
      Open-source data labeling platform with multi-annotator support,
      configurable UIs, and ML backend integration. Present in docker-compose
      config but not wired to the data pipeline. Supports DICOM viewing
      via plugins. Primarily 2D-focused; limited 3D interactive capabilities.
    prior_probability: 0.15
    status: viable
    implementation_status: config_only
    complements:
      - "label_quality.cleanlab"
      - "annotation_workflow.label_studio_manual"

  - option_id: napari_nninteractive
    title: "napari + napari-nninteractive"
    description: >
      Python-native viewer with DKFZ-maintained napari-nninteractive plugin.
      Strong for scripted research workflows, Jupyter integration, and
      microscopy data (Î¼SAM, SuRVoS2). Less clinical UI polish than Slicer.
      CZI-funded active development.
    prior_probability: 0.10
    status: viable
    implementation_status: not_started
    complements:
      - "annotation_workflow.slicer_proofread"
    constraints:
      - "Less polished clinical UI than 3D Slicer"
      - "No built-in DICOM toolchain"

  - option_id: hybrid
    title: "Hybrid Platform"
    description: >
      Combine 3D Slicer for AI-assisted 3D proofreading with Label Studio for
      workflow management. Uses Slicer/nnInteractive for correction, Label Studio
      for task distribution and multi-annotator coordination.
    prior_probability: 0.10
    status: viable
    implementation_status: not_started
    complements:
      - "annotation_platform.slicer_nninteractive"
      - "annotation_platform.label_studio"

  - option_id: cvat
    title: "CVAT"
    description: >
      Intel's Computer Vision Annotation Tool. Strong 2D annotation with
      emerging 3D support. Active learning integration via Nuclio serverless.
    prior_probability: 0.05
    status: viable
    implementation_status: not_started
    constraints:
      - "3D medical imaging support is limited"
      - "Additional infrastructure (Nuclio)"

conditional_on:
  - parent_decision_id: monai_alignment
    influence_strength: moderate
    conditional_table:
      - given_parent_option: monai_native
        then_probabilities:
          slicer_nninteractive: 0.30
          monai_label: 0.35
          label_studio: 0.10
          napari_nninteractive: 0.05
          hybrid: 0.15
          cvat: 0.05
      - given_parent_option: monai_compatible
        then_probabilities:
          slicer_nninteractive: 0.40
          monai_label: 0.20
          label_studio: 0.15
          napari_nninteractive: 0.10
          hybrid: 0.10
          cvat: 0.05
      - given_parent_option: framework_agnostic
        then_probabilities:
          slicer_nninteractive: 0.40
          monai_label: 0.10
          label_studio: 0.15
          napari_nninteractive: 0.15
          hybrid: 0.10
          cvat: 0.10

archetype_weights:
  solo_researcher:
    probability_overrides:
      slicer_nninteractive: 0.45
      monai_label: 0.15
      label_studio: 0.10
      napari_nninteractive: 0.15
      hybrid: 0.05
      cvat: 0.10
    rationale: "Solo researchers need best interactive tool with minimal setup; Slicer or napari for Python workflows"
  lab_group:
    probability_overrides:
      slicer_nninteractive: 0.35
      monai_label: 0.20
      label_studio: 0.10
      napari_nninteractive: 0.10
      hybrid: 0.20
      cvat: 0.05
    rationale: "Lab groups benefit from multi-annotator workflows; hybrid Slicer+Label Studio for coordination"
  clinical_deployment:
    probability_overrides:
      slicer_nninteractive: 0.35
      monai_label: 0.25
      label_studio: 0.10
      napari_nninteractive: 0.05
      hybrid: 0.20
      cvat: 0.05
    rationale: "Clinical needs AI-assisted annotation with MONAI integration and expert review workflows"

volatility:
  classification: shifting
  last_assessed: 2026-02-24
  next_review: 2026-05-24
  change_drivers:
    - "nnInteractive updates and SlicerNNInteractive inclusion in Extensions Manager"
    - "MONAI Label updates and new interactive models"
    - "OHIF-AI web-based alternative maturity"
    - "MedSAM2/SAM3 Slicer plugin development"
    - "Active learning integration patterns"

domain_applicability:
  vascular_segmentation: 1.0
  cardiac_imaging: 1.0
  neuroimaging: 1.0
  general_medical: 1.0

rationale: >
  Phase 15 interactive segmentation research (interactive-segmentation-report.md)
  established slicer_nninteractive (0.40) as the primary recommendation based on:
  (1) nnInteractive won 1st place CVPR 2025 Interactive 3D Segmentation Challenge
  (Isensee et al., 2025), substantially outperforming SAM2, SegVol, and SAM-Med3D;
  (2) SlicerNNInteractive (de Vente et al., 2025) provides client-server architecture
  decoupling GPU from annotation workstation; (3) prior mask input channel directly
  enables proofreading workflow; (4) 3D Slicer has 5+ AI-assisted extensions and is
  the industry-standard research viewer. MONAI Label (0.20) is retained for active
  learning orchestration but surpassed for interactive segmentation quality. Label
  Studio (0.15) retained for multi-annotator workflow management. napari (0.10) is
  the Python-native alternative for scripted research. K-Prism (Guo et al., 2025)
  demonstrated that feeding initial masks reduces correction burden by >30% (NoC90),
  validating the proofread-don't-reannotate paradigm. OAIMS (Xu et al., 2025) showed
  online adaptation recovers 25.5pp on out-of-distribution data (BRATS T1, 10 clicks).

references:
  - citation_key: isensee2025nninteractive
    relevance: "nnInteractive CVPR 2025 1st place. SOTA 3D interactive segmentation with all prompt types including prior mask for proofreading."
    supports_options: ["slicer_nninteractive", "napari_nninteractive"]

  - citation_key: devente2025slicernninteractive
    relevance: "3D Slicer extension for nnInteractive. Client-server architecture enables GPU-free annotation workstations."
    supports_options: ["slicer_nninteractive"]

  - citation_key: diazpinto2024monailabel
    relevance: "MONAI Label v0.8.5 for AI-assisted annotation with active learning loops."
    supports_options: ["monai_label"]

  - citation_key: wong2024scribbleprompt
    relevance: "ScribblePrompt (ECCV 2024): 28% annotation time reduction, 65 biomedical datasets. 2D only."
    supports_options: ["slicer_nninteractive", "napari_nninteractive"]

  - citation_key: guo2025kprism
    relevance: "K-Prism mode chaining: feeding initial mask reduces NoC90 by >30%, validating proofreading paradigm."
    supports_options: ["slicer_nninteractive"]

  - citation_key: xu2025oaims
    relevance: "OAIMS online adaptation: +25.5pp on OOD brain MRI (10 clicks). CPU-viable. Addresses distribution shift in annotation."
    supports_options: ["slicer_nninteractive", "napari_nninteractive"]

  - citation_key: li2024prism
    relevance: "PRISM (MICCAI 2024 Spotlight): 3D interactive model with corrective refinement from prior mask. >93% Dice on tumors."
    supports_options: ["slicer_nninteractive"]

  - citation_key: ma2025medsam2
    relevance: "MedSAM2: 455K training volumes, video propagation for 3D. No Slicer plugin yet."
    supports_options: ["slicer_nninteractive"]

  - citation_key: terms2025vessqc
    relevance: "VessQC napari plugin for uncertainty-guided 3D segmentation curation. Improved error recall 67% to 94%."
    supports_options: ["napari_nninteractive", "hybrid"]

  - citation_key: mazurowski2024slicersegmentwithsam
    relevance: "SlicerSegmentWithSAM: SAM2 video propagation in 3D Slicer. In Extensions Manager."
    supports_options: ["slicer_nninteractive"]

  - citation_key: cardoso2022monai
    relevance: "MONAI ecosystem including MONAI Label for AI-assisted annotation."
    supports_options: ["monai_label"]

tags:
  - technology
  - annotation
  - data-labeling
  - interactive-segmentation
  - phase-15-research
